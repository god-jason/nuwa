<nuwa-toolbar [canvas]="canvas" [project]="project" (onSave)="handleSave()"
              [(scale)]="scale"></nuwa-toolbar>
<div class="body">
    <nuwa-side-bar [width]="300" [index]="1">

        <nuwa-pages *sideBarItem="'页面'" [project]="project" (onPageChange)="handlePageChange($event)"></nuwa-pages>

        <nuwa-widgets *sideBarItem="'控件'" [canvas]="canvas"></nuwa-widgets>

        @if (components) {
            <nuwa-components *sideBarItem="'组件'" [canvas]="canvas" [components]="components"></nuwa-components>
        }

        @if (galleries) {
            <nuwa-galleries *sideBarItem="'相册'" [canvas]="canvas" [galleries]="galleries"></nuwa-galleries>
        }

        @if (ninePatches) {
            <nuwa-nine-patch *sideBarItem="'点九图'" [canvas]="canvas" [galleries]="ninePatches"></nuwa-nine-patch>
        }

        @if (canvas.graph?.getCellCount()) {
            <nuwa-elements *sideBarItem="'图元'" [canvas]="canvas"></nuwa-elements>
        }

        <!--        <nuwa-layers *sideBarItem="'图层'" [renderer]="renderer"></nuwa-layers>-->
        <nuwa-sources *sideBarItem="'数据源'"></nuwa-sources>
    </nuwa-side-bar>
    <div class="content">
        <nuwa-canvas #canvas [page]="project.pages[index]"
                     [style.width]="project.pages[index].width*scale+'px'"
                     [style.height]="project.pages[index].height*scale+'px'"></nuwa-canvas>
    </div>
    <nuwa-side-bar [width]="400" [right]="true">
        <nuwa-canvas-setting *sideBarItem="'画布'" [canvas]="canvas" [backgrounds]="backgrounds"></nuwa-canvas-setting>
        <nuwa-props *sideBarItem="'属性'" [canvas]="canvas"></nuwa-props>
        <nuwa-listeners *sideBarItem="'事件'" [canvas]="canvas"></nuwa-listeners>
        <nuwa-scripts *sideBarItem="'脚本'"></nuwa-scripts>
    </nuwa-side-bar>
</div>
