<nuwa-toolbar [canvas]="canvas" [project]="project" (onSave)="handleSave()"
              [(scale)]="scale"></nuwa-toolbar>
<div class="body">
    <nuwa-side-bar [width]="300" [index]="1">

        <nuwa-pages *sideBarItem="'页面'" [project]="project" (onPageChange)="handlePageChange($event)"></nuwa-pages>

        <nuwa-widgets *sideBarItem="'控件'" [canvas]="canvas"></nuwa-widgets>

        @if (components) {
            <nuwa-components *sideBarItem="'组件'" [canvas]="canvas" [components]="components"></nuwa-components>
        }

        @if (galleries) {
            <nuwa-galleries *sideBarItem="'相册'" [canvas]="canvas" [galleries]="galleries"></nuwa-galleries>
        }

        @if (imageBorders) {
            <nuwa-image-borders *sideBarItem="'图片边框'" [canvas]="canvas"
                                [borders]="imageBorders"></nuwa-image-borders>
        }

        @if (canvas.graph?.getCellCount()) {
            <nuwa-elements *sideBarItem="'图元'" [canvas]="canvas"></nuwa-elements>
        }

        <!--        <nuwa-layers *sideBarItem="'图层'" [renderer]="renderer"></nuwa-layers>-->
        <!--        <nuwa-sources *sideBarItem="'数据源'"></nuwa-sources>-->
        <nuwa-variables *sideBarItem="'变量表'" [project]="project"></nuwa-variables>

    </nuwa-side-bar>
    <div class="content">
        <nuwa-canvas #canvas [page]="project.pages[index]"
                     [style.width]="project.pages[index].width*scale+'px'"
                     [style.height]="project.pages[index].height*scale+'px'"></nuwa-canvas>
    </div>
    <nuwa-side-bar [width]="400" [right]="true">
        <nuwa-canvas-setting *sideBarItem="'页面属性'" [canvas]="canvas" [backgrounds]="backgrounds"></nuwa-canvas-setting>
        <nuwa-props *sideBarItem="'元素属性'" [canvas]="canvas"></nuwa-props>
        <nuwa-bindings *sideBarItem="'数据绑定'" [canvas]="canvas" [project]="project"></nuwa-bindings>
        <nuwa-listeners *sideBarItem="'事件响应'" [canvas]="canvas" [project]="project"></nuwa-listeners>
<!--        <nuwa-scripts *sideBarItem="'脚本'"></nuwa-scripts>-->
    </nuwa-side-bar>
</div>
